<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Orders - Daily Essentials Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-shopping-bag"></i>
                <span>Daily Essentials</span>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">Home</a>
                <a href="products.html" class="nav-link">Products</a>
                <a href="aboutus.html" class="nav-link">About</a>
                <a href="orders.html" class="nav-link active">My Orders</a>
            </nav>
            <div class="header-actions">
                <a href="products.html" class="cart-btn">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Shop</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Orders Section -->
    <section class="orders-section">
        <div class="container">
            <div class="orders-header">
                <h1>My Orders</h1>
                <div class="orders-actions">
                    <a href="track-order.html" class="btn btn-secondary">
                        <i class="fas fa-search"></i> Track Order
                    </a>
                </div>
            </div>

            <div id="ordersContainer">
                <!-- Orders will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Daily Essentials</h3>
                    <p>Your trusted partner for everyday needs</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="orders.html">My Orders</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fas fa-phone"></i> +91 123 456 7890</p>
                    <p><i class="fas fa-envelope"></i> info@dailyessentials.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Daily Essentials Store. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Load and display orders
        function displayOrders() {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const ordersContainer = document.getElementById('ordersContainer');

            if (orders.length === 0) {
                ordersContainer.innerHTML = `
                    <div class="empty-orders">
                        <i class="fas fa-shopping-bag"></i>
                        <h2>No Orders Yet</h2>
                        <p>You haven't placed any orders yet. Start shopping to see your orders here!</p>
                        <a href="products.html" class="btn btn-primary">Start Shopping</a>
                    </div>
                `;
                return;
            }

            ordersContainer.innerHTML = orders.map(order => {
                const orderDate = new Date(order.date);
                const formattedDate = orderDate.toLocaleDateString('en-IN', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                const statusClass = order.status.toLowerCase().replace(' ', '-');
                const statusIcons = {
                    'processing': 'fa-clock',
                    'confirmed': 'fa-check-circle',
                    'shipped': 'fa-truck',
                    'out-for-delivery': 'fa-box-open',
                    'delivered': 'fa-check-double',
                    'cancelled': 'fa-times-circle'
                };

                return `
                    <div class="order-card">
                        <div class="order-header">
                            <div class="order-info">
                                <h3>Order #${order.orderId}</h3>
                                <p class="order-date"><i class="fas fa-calendar"></i> ${formattedDate}</p>
                            </div>
                            <div class="order-status">
                                <span class="status-badge status-${statusClass}">
                                    <i class="fas ${statusIcons[statusClass] || 'fa-circle'}"></i>
                                    ${order.status}
                                </span>
                            </div>
                        </div>

                        <div class="order-items">
                            ${order.items.map(item => `
                                <div class="order-item">
                                    <div class="order-item-image">${item.image}</div>
                                    <div class="order-item-details">
                                        <div class="order-item-name">${item.name}</div>
                                        <div class="order-item-meta">
                                            <span>Quantity: ${item.quantity}</span>
                                            <span class="order-item-price">₹${(item.price * item.quantity).toFixed(2)}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="order-footer">
                            <div class="order-total">
                                <div class="total-row">
                                    <span>Subtotal:</span>
                                    <span>₹${order.subtotal.toFixed(2)}</span>
                                </div>
                                <div class="total-row">
                                    <span>Delivery:</span>
                                    <span>₹${order.deliveryCharge.toFixed(2)}</span>
                                </div>
                                <div class="total-row final-total">
                                    <span>Total:</span>
                                    <span>₹${order.total.toFixed(2)}</span>
                                </div>
                            </div>
                            <div class="order-actions">
                                <a href="track-order.html?orderId=${order.orderId}" class="btn btn-outline">
                                    <i class="fas fa-map-marker-alt"></i> Track Order
                                </a>
                                <button class="btn btn-outline" onclick="viewOrderDetails('${order.orderId}')">
                                    <i class="fas fa-eye"></i> View Details
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function viewOrderDetails(orderId) {
            window.location.href = `order-details.html?orderId=${orderId}`;
        }

        // Initialize
        displayOrders();
    </script>
</body>
</html>

