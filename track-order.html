<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track Order - Daily Essentials Store</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-shopping-bag"></i>
                <span>Daily Essentials</span>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">Home</a>
                <a href="products.html" class="nav-link">Products</a>
                <a href="aboutus.html" class="nav-link">About</a>
                <a href="orders.html" class="nav-link">My Orders</a>
            </nav>
            <div class="header-actions">
                <a href="products.html" class="cart-btn">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Shop</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Track Order Section -->
    <section class="track-order-section">
        <div class="container">
            <h1>Track Your Order</h1>
            
            <div class="track-order-container">
                <!-- Search Form -->
                <div class="track-search">
                    <form id="trackForm" class="track-form">
                        <div class="form-group">
                            <label for="orderIdInput"><i class="fas fa-hashtag"></i> Order ID</label>
                            <input type="text" id="orderIdInput" name="orderId" placeholder="Enter Order ID (e.g., ORD1234567890)" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-search"></i> Track Order
                        </button>
                    </form>
                </div>

                <!-- Tracking Results -->
                <div id="trackingResults" style="display: none;">
                    <div class="tracking-info">
                        <div class="tracking-header">
                            <h2>Order #<span id="displayOrderId"></span></h2>
                            <div class="tracking-status">
                                <span class="status-badge" id="displayStatus"></span>
                            </div>
                        </div>

                        <div class="tracking-steps">
                            <div class="step" data-step="processing">
                                <div class="step-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="step-content">
                                    <h4>Processing</h4>
                                    <p>Your order is being prepared</p>
                                </div>
                            </div>
                            <div class="step" data-step="confirmed">
                                <div class="step-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="step-content">
                                    <h4>Confirmed</h4>
                                    <p>Order confirmed and ready to ship</p>
                                </div>
                            </div>
                            <div class="step" data-step="shipped">
                                <div class="step-icon">
                                    <i class="fas fa-truck"></i>
                                </div>
                                <div class="step-content">
                                    <h4>Shipped</h4>
                                    <p>Your order has been shipped</p>
                                </div>
                            </div>
                            <div class="step" data-step="out-for-delivery">
                                <div class="step-icon">
                                    <i class="fas fa-box-open"></i>
                                </div>
                                <div class="step-content">
                                    <h4>Out for Delivery</h4>
                                    <p>Your order is on the way</p>
                                </div>
                            </div>
                            <div class="step" data-step="delivered">
                                <div class="step-icon">
                                    <i class="fas fa-check-double"></i>
                                </div>
                                <div class="step-content">
                                    <h4>Delivered</h4>
                                    <p>Order delivered successfully</p>
                                </div>
                            </div>
                        </div>

                        <div class="tracking-details">
                            <h3>Order Details</h3>
                            <div class="details-grid">
                                <div class="detail-item">
                                    <span class="detail-label">Order Date:</span>
                                    <span class="detail-value" id="orderDate"></span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Tracking Number:</span>
                                    <span class="detail-value" id="trackingNumber"></span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Total Amount:</span>
                                    <span class="detail-value" id="orderTotal"></span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Delivery Address:</span>
                                    <span class="detail-value" id="deliveryAddress"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- No Results -->
                <div id="noResults" style="display: none;" class="no-results">
                    <i class="fas fa-search"></i>
                    <h3>Order Not Found</h3>
                    <p>We couldn't find an order with that ID. Please check your Order ID and try again.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Daily Essentials</h3>
                    <p>Your trusted partner for everyday needs</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="orders.html">My Orders</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fas fa-phone"></i> +91 123 456 7890</p>
                    <p><i class="fas fa-envelope"></i> info@dailyessentials.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Daily Essentials Store. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Get orderId from URL if present
        const urlParams = new URLSearchParams(window.location.search);
        const orderIdFromUrl = urlParams.get('orderId');
        
        if (orderIdFromUrl) {
            document.getElementById('orderIdInput').value = orderIdFromUrl;
            trackOrder(orderIdFromUrl);
        }

        // Handle form submission
        document.getElementById('trackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const orderId = document.getElementById('orderIdInput').value.trim();
            if (orderId) {
                trackOrder(orderId);
            }
        });

        function trackOrder(orderId) {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const order = orders.find(o => o.orderId === orderId);

            const trackingResults = document.getElementById('trackingResults');
            const noResults = document.getElementById('noResults');

            if (!order) {
                trackingResults.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';
            trackingResults.style.display = 'block';

            // Display order info
            document.getElementById('displayOrderId').textContent = order.orderId;
            document.getElementById('orderDate').textContent = new Date(order.date).toLocaleDateString('en-IN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('trackingNumber').textContent = order.trackingNumber || 'N/A';
            document.getElementById('orderTotal').textContent = `â‚¹${order.total.toFixed(2)}`;
            document.getElementById('deliveryAddress').textContent = `${order.customer.address}, ${order.customer.city} - ${order.customer.pincode}`;

            // Update status badge
            const statusBadge = document.getElementById('displayStatus');
            const statusClass = order.status.toLowerCase().replace(' ', '-');
            statusBadge.className = `status-badge status-${statusClass}`;
            statusBadge.innerHTML = `<i class="fas ${getStatusIcon(statusClass)}"></i> ${order.status}`;

            // Update progress steps
            updateProgressSteps(order.status);
        }

        function getStatusIcon(status) {
            const icons = {
                'processing': 'fa-clock',
                'confirmed': 'fa-check-circle',
                'shipped': 'fa-truck',
                'out-for-delivery': 'fa-box-open',
                'delivered': 'fa-check-double',
                'cancelled': 'fa-times-circle'
            };
            return icons[status] || 'fa-circle';
        }

        function updateProgressSteps(currentStatus) {
            const steps = document.querySelectorAll('.step');
            const statusOrder = ['processing', 'confirmed', 'shipped', 'out-for-delivery', 'delivered'];
            const currentIndex = statusOrder.indexOf(currentStatus.toLowerCase().replace(' ', '-'));

            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index <= currentIndex) {
                    step.classList.add('active');
                    if (index < currentIndex) {
                        step.classList.add('completed');
                    }
                }
            });
        }
    </script>
</body>
</html>

